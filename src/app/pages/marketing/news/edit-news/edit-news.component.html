<tui-island>
  <form [formGroup]="notificationForm">
    <div class="tui-form__row">
      <tui-input formControlName="title">
        Заголовок
        <span class="tui-required"></span>
      </tui-input>
    </div>
    <div class="tui-form__row">
      <tui-text-area formControlName="text">Контент</tui-text-area>
    </div>
    {{ urlImage }}
    <div *tuiLet="urlImage$ | async as urlImage" class="tui-form__row">
      <div *ngIf="urlImage">
        <img [ngSrc]="urlImage" width="400" height="200" priority />
      </div>
    </div>
    <div class="tui-form__row">
      <tui-input-files
        *ngIf="!control.value"
        accept="image/*"
        [formControl]="control"
        (reject)="onReject($event)"></tui-input-files>

      <tui-files class="tui-space_top-1">
        <tui-file
          *ngIf="loadedFiles$ | async as file"
          [file]="file"
          (removed)="removeFile()"></tui-file>

        <tui-file
          *ngIf="rejectedFiles$ | async as file"
          state="error"
          [file]="file"
          (removed)="clearRejected()"></tui-file>

        <tui-file
          *ngIf="loadingFiles$ | async as file"
          state="loading"
          [file]="file"></tui-file>
      </tui-files>
    </div>
    <div class="tui-form__buttons">
      <button
        class="tui-form__button"
        tuiButton
        appearance="primary"
        (click)="save()">
        Сохранить
      </button>
    </div>
  </form>
</tui-island>
